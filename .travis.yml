matrix:
  include:
    - language: erlang

      before_install:
        - cd server

      install:
        - wget https://s3.amazonaws.com/rebar3/rebar3 && chmod +x rebar3

      otp_release:
        - 19.3

      script:
        - ./rebar3 compile
        - ./rebar3 eunit

    - language: erlang

      before_install:
        - cd server

      install:
        - wget https://s3.amazonaws.com/rebar3/rebar3 && chmod +x rebar3

      otp_release:
        - 21.0

      script:
        - ./rebar3 compile
        - ./rebar3 eunit

    - language: erlang

      before_install:
        - cd server

      install:
        - wget https://s3.amazonaws.com/rebar3/rebar3 && chmod +x rebar3

      otp_release:
        - 20.2

      script:
        - ./rebar3 compile
        - ./rebar3 eunit

    - language: node_js

      node_js:
        - "10.7.0"

      before_install:
        - cd client

      install:
        - yarn

      script:
        - yarn build

cache:
  directories:
    - client/elm-stuff/build-artifacts

# vim: et sw=2 sts=2:
